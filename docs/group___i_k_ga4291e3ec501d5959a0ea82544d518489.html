<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BURT_arm: ArmIK::calculateAngles</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BURT_arm<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Controls the arm for the Binghamton University Rover Team</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___i_k_ga4291e3ec501d5959a0ea82544d518489.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a id="ga4291e3ec501d5959a0ea82544d518489" name="ga4291e3ec501d5959a0ea82544d518489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4291e3ec501d5959a0ea82544d518489">&#9670;&nbsp;</a></span>calculateAngles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_angles.html">Angles</a> ArmIK::calculateAngles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_coordinates.html">Coordinates</a>&#160;</td>
          <td class="paramname"><em>coordinates</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the angles of the joints needed to move the gripper to the given point. </p>
<p >Computes the angles theta, B, and C to move the gripper to (x, y, z).</p>
<p >Imagine the coordinates as representing the position of an imaginary reticle. No matter where the gripper is currently positioned, the operator can always try to move to a completely different position, denoted by the reticle. This function bridges the gap between where the arm currently is, and where it wants to be.</p>
<p >The function indicates failure by returning <a class="el" href="group___i_k_ga92d082e30652cf9bda6ae202f3791a54.html#ga92d082e30652cf9bda6ae202f3791a54" title="The value returned to indicate a failed computation.">failure</a>. If this happens, it means it was impossible to move to the requested position.</p>
<p >This function uses the Triangulation algorithm. Essentially, we use the Law of Cosines combined with the lengths of the arms to compute the angles of the joints, working backwards from the (x, y) destination.</p>
<p >Except, we want to work in 3 dimensions, not 2. It's actually a pretty simple adjustment:</p><ul>
<li>take a top-down view of the arm (ie, the XY plane)</li>
<li>find the direction (theta) and distance (k) to the target from this view</li>
<li>switch back to a profile view (XZ or YZ plane)</li>
<li>rotate along the Z-axis to make K the horizontal axis (now the KZ plane)</li>
<li>solve for (k, z) using normal triangulation in this new 2D space.</li>
</ul>
<p >Be sure to thoroughly read the README for an intuitive understanding of the process.</p>
<p >Returns <a class="el" href="group___i_k_ga92d082e30652cf9bda6ae202f3791a54.html#ga92d082e30652cf9bda6ae202f3791a54" title="The value returned to indicate a failed computation.">failure</a> if the math doesn't check out (see <a class="el" href="class_arm_i_k_ad76eca6596d83ea46a476f25dc1e7eda.html#ad76eca6596d83ea46a476f25dc1e7eda" title="The maximum error tolerance for the IK algorithm.">tolerance</a>). </p>

<p class="definition">Definition at line <a class="el" href="_b_u_r_t__arm___i_k_8cpp_source.html#l00053">53</a> of file <a class="el" href="_b_u_r_t__arm___i_k_8cpp_source.html">BURT_arm_IK.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_arm_i_k.html">ArmIK</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
